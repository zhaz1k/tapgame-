<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8">
  <title>Telegram WebApp Test</title>
  <style>
    body {
      font-family: monospace;
      white-space: pre-wrap;
      color: #0f0;
      background: #000;
      padding: 15px;
    }
  </style>
</head>
<body>
  <h2>Telegram WebApp Debug</h2>
  <pre id="output">–û—á—ñ–∫—É–≤–∞–Ω–Ω—è –¥–∞–Ω–∏—Ö...</pre>

  <script>
    const tg = window.Telegram?.WebApp;
    const out = document.getElementById("output");

    if (tg) {
      tg.ready();
      out.textContent = "‚úÖ Telegram WebApp –∑–Ω–∞–π–¥–µ–Ω–æ.\n\n";
      console.log("Telegram WebApp:", tg);
      console.log("initDataUnsafe:", tg.initDataUnsafe);

      out.textContent += "üîç initDataUnsafe:\n" + JSON.stringify(tg.initDataUnsafe, null, 2);

      if (tg.initDataUnsafe?.user) {
        const u = tg.initDataUnsafe.user;
        out.textContent += `\n\nüë§ –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á:\n${JSON.stringify(u, null, 2)}`;
      } else {
        out.textContent += "\n\n‚ö†Ô∏è user –≤—ñ–¥—Å—É—Ç–Ω—ñ–π ‚Äî Telegram –Ω–µ –ø–µ—Ä–µ–¥–∞—î –¥–∞–Ω—ñ!";
      }
    } else {
      out.textContent = "‚ùå Telegram WebApp API –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ. –ô–º–æ–≤—ñ—Ä–Ω–æ, –≤—ñ–¥–∫—Ä–∏—Ç–æ —É –∑–≤–∏—á–∞–π–Ω–æ–º—É –±—Ä–∞—É–∑–µ—Ä—ñ.";
    }
  </script>
</body>
</html>
