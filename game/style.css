/* üîß –ë–∞–∑–æ–≤—ñ –æ–±–º–µ–∂–µ–Ω–Ω—è –¥–ª—è –º–æ–±—ñ–ª—å–Ω–∏—Ö */
* {
  box-sizing: border-box;
  -webkit-tap-highlight-color: transparent;
  user-select: none;
  touch-action: manipulation;
}

html,
body {
  margin: 0;
  padding: 0;
  width: 100%;
  height: 100%;
  overflow-x: hidden;
  overflow-y: auto;
  background: radial-gradient(circle at 30% 30%, #10121a, #07080f 80%);
  font-family: "Inter", system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
  color: #fff;
}

/* üîÆ –ü–ª–∞–≤–Ω–∏–π —Ñ–æ–Ω–æ–≤–∏–π –µ—Ñ–µ–∫—Ç */
body::before {
  content: "";
  position: fixed;
  inset: 0;
  background:
    radial-gradient(circle at 20% 20%, rgba(0, 255, 255, 0.12), transparent 60%),
    radial-gradient(circle at 80% 80%, rgba(255, 0, 255, 0.12), transparent 60%);
  background-size: 200% 200%;
  animation: slowMove 25s ease-in-out infinite;
  z-index: 0;
}

@keyframes slowMove {
  0%,
  100% {
    background-position: 0% 50%;
  }
  50% {
    background-position: 100% 50%;
  }
}

/* üß± –ö–∞—Ä–∫–∞—Å –∑–∞—Å—Ç–æ—Å—É–Ω–∫—É */
.app {
  position: relative;
  width: 100%;
  max-width: 480px;
  min-height: 100vh;
  margin: 0 auto;
  display: flex;
  flex-direction: column;
  z-index: 1;
  background: linear-gradient(160deg, rgba(0, 0, 0, 0.65), rgba(4, 8, 20, 0.9));
  backdrop-filter: blur(14px);
}

/* üîù –í–µ—Ä—Ö–Ω—ñ–π –±–∞—Ä */
.top-bar {
  height: 64px;
  padding: 10px 14px 6px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  border-bottom: 1px solid rgba(255, 255, 255, 0.06);
  background: linear-gradient(120deg, rgba(8, 15, 35, 0.9), rgba(10, 25, 50, 0.9));
}

.top-left {
  display: flex;
  align-items: center;
  gap: 8px;
}

.top-avatar {
  width: 34px;
  height: 34px;
  border-radius: 50%;
  border: 2px solid #00f6ff;
  box-shadow: 0 0 10px rgba(0, 255, 255, 0.6);
  object-fit: cover;
}

.top-user {
  display: flex;
  flex-direction: column;
  gap: 2px;
}

.top-username {
  font-size: 0.85rem;
  font-weight: 600;
  color: #e9f7ff;
}

.top-userid {
  font-size: 0.7rem;
  color: #9ea7c7;
}

.top-right {
  text-align: right;
}

.top-balance-label {
  font-size: 0.7rem;
  color: #9ba0c0;
}

.top-balance-value {
  font-size: 1rem;
  font-weight: 700;
  color: #00ffc6;
  text-shadow: 0 0 8px rgba(0, 255, 198, 0.8);
}

/* ‚ö° –ï–Ω–µ—Ä–≥—ñ—è */
.energy-wrapper {
  padding: 6px 14px 4px;
}

.energy-progress {
  position: relative;
  width: 100%;
  height: 16px;
  background: rgba(255, 255, 255, 0.06);
  border-radius: 999px;
  overflow: hidden;
  box-shadow: 0 0 10px rgba(0, 255, 255, 0.25);
}

#energy-bar {
  position: absolute;
  inset: 0;
  width: 100%;
  background: linear-gradient(90deg, #00f6ff, #00ff99);
  border-radius: 999px;
  transition: width 0.25s ease, background 0.3s ease;
}

#energy-label {
  position: relative;
  z-index: 1;
  width: 100%;
  display: block;
  text-align: center;
  font-size: 0.7rem;
  color: #ffffff;
  font-weight: 700;
  letter-spacing: 0.5px;
  text-shadow:
    0 0 3px rgba(0, 0, 0, 0.8),
    0 0 6px rgba(0, 0, 0, 0.6),
    0 0 8px rgba(0, 255, 255, 0.4);
}

/* ‚ö° –ê–Ω—ñ–º–∞—Ü—ñ—è –±–ª–∏—Å–∫–∞–≤–∫–∏ –ø—Ä–∏ –≤—ñ–¥–Ω–æ–≤–ª–µ–Ω–Ω—ñ –µ–Ω–µ—Ä–≥—ñ—ó */
.energy-flash {
  position: fixed;
  bottom: 88px;
  left: 50%;
  transform: translateX(-50%);
  font-size: 0.85rem;
  color: #00f6ff;
  text-shadow: 0 0 6px #00ffff, 0 0 12px #0077ff;
  opacity: 0;
  animation: flashUp 1.2s ease-out forwards;
  pointer-events: none;
  z-index: 30;
}

@keyframes flashUp {
  0% {
    transform: translate(-50%, 0);
    opacity: 1;
  }
  70% {
    transform: translate(-50%, -12px);
    opacity: 0.9;
  }
  100% {
    transform: translate(-50%, -22px);
    opacity: 0;
  }
}

/* üì± –ï–∫—Ä–∞–Ω–∏ */
.screens {
  flex: 1 1 auto;
  position: relative;
  overflow-y: auto;
  -webkit-overflow-scrolling: touch;
}

.screen {
  display: none;
  padding: 12px 14px 90px;
  box-sizing: border-box;
}

.screen.active {
  display: block;
  animation: fadeIn 0.35s ease;
}

@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(8px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* üè∑ –ó–∞–≥–æ–ª–æ–≤–∫–∏ –µ–∫—Ä–∞–Ω—ñ–≤ */
.screen-title {
  font-size: 1.2rem;
  margin: 6px 0 4px;
}

.screen-subtitle {
  font-size: 0.8rem;
  color: #a2a8d5;
  margin-bottom: 14px;
}

/* ü™ô Soft-–±–∞–ª–∞–Ω—Å –Ω–∞ Home */
.soft-balance-row {
  display: flex;
  justify-content: center;
  align-items: baseline;
  gap: 6px;
  margin-top: 4px;
  margin-bottom: 8px;
  font-size: 0.85rem;
  opacity: 0.95;
}

.soft-label {
  color: #9ba0c0;
}

.soft-value {
  color: #ffb84c;
  font-weight: 700;
  text-shadow: 0 0 8px rgba(255, 184, 76, 0.8);
}

/* üîò TAP-–∑–æ–Ω–∞ */
.tap-zone {
  display: flex;
  align-items: center;
  justify-content: center;
  margin: 10px 0 14px;
}

.tap-ring-outer {
  width: 190px;
  height: 190px;
  border-radius: 50%;
  background: radial-gradient(circle at 30% 30%, rgba(0, 255, 255, 0.25), rgba(0, 0, 0, 0.8));
  display: flex;
  align-items: center;
  justify-content: center;
  box-shadow:
    0 0 25px rgba(0, 255, 255, 0.35),
    0 0 60px rgba(0, 0, 0, 0.8);
}

.tap-ring-inner {
  width: 150px;
  height: 150px;
  border-radius: 50%;
  padding: 6px;
  background: radial-gradient(circle at 30% 20%, rgba(255, 255, 255, 0.2), rgba(0, 0, 0, 0.9));
  display: flex;
  align-items: center;
  justify-content: center;
}

/* üü¢ –ö–Ω–æ–ø–∫–∞ TAP */
#tapButton {
  width: 120px;
  height: 120px;
  border-radius: 50%;
  border: none;
  background: conic-gradient(from 200deg, #00f6ff, #0077ff, #b03cff, #00f6ff);
  box-shadow:
    0 0 25px rgba(0, 255, 255, 0.6),
    0 0 40px rgba(0, 0, 0, 0.8);
  color: white;
  font-size: 1.1rem;
  font-weight: 700;
  letter-spacing: 1px;
  text-shadow: 0 0 4px rgba(0, 0, 0, 0.7);
  transition: transform 0.08s ease, box-shadow 0.15s ease, filter 0.15s ease;
  animation: tapPulse 2.2s ease-in-out infinite;
}

@keyframes tapPulse {
  0%,
  100% {
    transform: scale(1);
    box-shadow: 0 0 18px rgba(0, 255, 255, 0.4);
  }
  50% {
    transform: scale(1.06);
    box-shadow: 0 0 30px rgba(0, 255, 255, 0.9);
  }
}

#tapButton:active {
  transform: scale(0.94);
  box-shadow: 0 0 10px rgba(0, 255, 255, 0.4);
}

/* üí∞ –ê–Ω—ñ–º–∞—Ü—ñ—è –º–æ–Ω–µ—Ç */
.coin {
  position: fixed;
  width: 32px;
  height: 32px;
  background: url("https://cdn-icons-png.flaticon.com/512/138/138292.png") no-repeat center;
  background-size: cover;
  left: 50%;
  top: 52%;
  transform: translate(-50%, -50%) scale(0.8);
  animation: coinFly 1.2s ease-out forwards;
  z-index: 9999;
  pointer-events: none;
}

@keyframes coinFly {
  0% {
    opacity: 1;
    transform: translate(-50%, -50%) scale(0.8);
  }
  50% {
    opacity: 1;
    transform: translate(-50%, -120%) scale(1.2);
  }
  100% {
    opacity: 0;
    transform: translate(-50%, -180%) scale(0.7);
  }
}

/* ============================= */
/* üßä –ü–ê–ù–ï–õ–Ü (–ü–ê–°–ò–í + LAB)      */
/* ============================= */

.panel {
  background: rgba(15, 18, 35, 0.96);
  border-radius: 16px;
  padding: 12px 12px;
  margin: 8px 0;
  border: 1px solid rgba(0, 255, 198, 0.14);
  box-shadow:
    0 0 12px rgba(0, 0, 0, 0.65),
    0 0 18px rgba(0, 255, 198, 0.08);
}

.panel-header-row {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 6px;
}

.panel h2 {
  margin: 0;
  font-size: 0.98rem;
  color: #00ffc6;
  text-align: left;
  text-shadow: 0 0 8px rgba(0, 255, 198, 0.7);
}

.panel-tag {
  font-size: 0.65rem;
  text-transform: uppercase;
  padding: 2px 8px;
  border-radius: 999px;
  background: rgba(0, 255, 198, 0.12);
  color: #7affd5;
  border: 1px solid rgba(0, 255, 198, 0.35);
}

.panel-tag-purple {
  background: rgba(176, 60, 255, 0.15);
  color: #f0c5ff;
  border-color: rgba(176, 60, 255, 0.5);
}

/* üìà –ü–∞—Å–∏–≤–Ω–∏–π –¥–æ—Ö—ñ–¥ */
.passive-panel {
  margin-top: 4px;
}

.passive-row {
  display: flex;
  justify-content: space-between;
  gap: 12px;
  margin-bottom: 10px;
}

.passive-row .label {
  font-size: 0.75rem;
  color: #9ba0c0;
}

.passive-row .value {
  font-size: 1rem;
  font-weight: 600;
  color: #ffffff;
}

/* –ö–Ω–æ–ø–∫–∞ "–ó–∞–±—Ä–∞—Ç–∏ –ø–∞—Å–∏–≤" */
.btn-primary {
  width: 100%;
  padding: 9px 14px;
  border-radius: 999px;
  border: none;
  background: linear-gradient(120deg, #00ffc6, #00a6ff);
  color: #0c0c16;
  font-weight: 700;
  font-size: 0.9rem;
  cursor: pointer;
  box-shadow: 0 0 14px rgba(0, 255, 198, 0.8);
  transition: transform 0.08s ease, box-shadow 0.15s ease, opacity 0.15s ease;
}

.btn-primary:active {
  transform: scale(0.96);
  box-shadow: 0 0 8px rgba(0, 255, 198, 0.5);
}

.passive-last {
  margin-top: 6px;
  font-size: 0.7rem;
  color: #9ba0c0;
  text-align: left;
}

/* ‚öôÔ∏è LAB ‚Äî –º–æ–¥—É–ª—ñ –ø–∞—Å–∏–≤—É */

.lab-panel {
  margin-top: 6px;
}

.lab-list {
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.lab-item {
  position: relative;
  border-radius: 14px;
  padding: 10px 10px 9px;
  background:
    radial-gradient(circle at 0% 0%, rgba(0, 255, 198, 0.18), transparent 60%),
    rgba(10, 12, 32, 0.96);
  border: 1px solid rgba(255, 255, 255, 0.08);
  box-shadow: 0 0 14px rgba(0, 0, 0, 0.85);
  overflow: hidden;
  display: flex;
  gap: 10px;
}

.lab-left {
  flex: 0 0 auto;
  display: flex;
  align-items: center;
  justify-content: center;
}

.lab-icon {
  width: 46px;
  height: 46px;
  border-radius: 50%;
  background: radial-gradient(circle at 30% 0%, #ffffff, #00f6ff);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 1.5rem;
  box-shadow:
    0 0 12px rgba(0, 246, 255, 0.9),
    0 0 18px rgba(0, 0, 0, 0.9);
}

.lab-main {
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: 4px;
}

.lab-header-row {
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.lab-title {
  font-size: 0.9rem;
  font-weight: 700;
}

.lab-pills {
  display: flex;
  gap: 4px;
  align-items: center;
}

.lab-pill-type {
  font-size: 0.65rem;
  padding: 2px 7px;
  border-radius: 999px;
  background: rgba(4, 11, 30, 0.96);
  border: 1px solid rgba(0, 255, 255, 0.5);
  color: #d5f9ff;
}

.lab-pill-rarity {
  font-size: 0.65rem;
  padding: 2px 7px;
  border-radius: 999px;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

/* –∫–æ–ª—å–æ—Ä–∏ —Ä–∞—Ä–∏—Ç–µ—Ç—É */
.lab-rarity-common {
  background: rgba(156, 163, 175, 0.25);
  color: #e5e7eb;
  border: 1px solid rgba(156, 163, 175, 0.7);
}
.lab-rarity-rare {
  background: rgba(56, 189, 248, 0.22);
  color: #7dd3fc;
  border: 1px solid rgba(56, 189, 248, 0.9);
}
.lab-rarity-epic {
  background: rgba(168, 85, 247, 0.22);
  color: #e9d5ff;
  border: 1px solid rgba(168, 85, 247, 0.9);
}
.lab-rarity-legendary {
  background: rgba(250, 204, 21, 0.25);
  color: #fef3c7;
  border: 1px solid rgba(250, 204, 21, 0.98);
}

.lab-desc {
  font-size: 0.76rem;
  color: #cdd3ff;
}

.lab-stats-row {
  display: flex;
  justify-content: space-between;
  font-size: 0.78rem;
  margin-top: 2px;
}

.lab-soft {
  color: #bbf7d0;
  font-weight: 600;
}

.lab-level {
  color: #e5e7eb;
  font-weight: 600;
}

.lab-progress {
  position: relative;
  width: 100%;
  height: 7px;
  margin-top: 4px;
  border-radius: 999px;
  background: rgba(15, 23, 42, 0.85);
  overflow: hidden;
}

.lab-progress-bar {
  position: absolute;
  inset: 0;
  width: 0;
  border-radius: 999px;
  background: linear-gradient(90deg, #22c55e, #a855f7, #f97316);
  box-shadow: 0 0 10px rgba(236, 252, 203, 0.9);
  transition: width 0.3s ease-out;
}

.lab-footer {
  margin-top: 6px;
}

.lab-upgrade-btn {
  width: 100%;
  border-radius: 999px;
  padding: 6px 10px;
  border: none;
  background: linear-gradient(120deg, #ffb84c, #ff3afb);
  color: #0c0c16;
  font-size: 0.8rem;
  font-weight: 600;
  cursor: pointer;
  box-shadow: 0 0 10px rgba(255, 184, 76, 0.7);
  transition: transform 0.08s ease, box-shadow 0.15s ease;
}

.lab-upgrade-btn:active {
  transform: scale(0.96);
  box-shadow: 0 0 6px rgba(255, 184, 76, 0.5);
}

.lab-upgrade-btn.disabled {
  opacity: 0.5;
  cursor: default;
  box-shadow: none;
}

/* üéØ –ó–∞–≤–¥–∞–Ω–Ω—è (Tasks) */

.task-list {
  list-style: none;
  padding: 0;
  margin: 0;
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.task-card {
  display: flex;
  justify-content: space-between;
  align-items: center;
  background: rgba(18, 20, 40, 0.95);
  padding: 10px 10px;
  border-radius: 12px;
  border: 1px solid rgba(255, 255, 255, 0.06);
  box-shadow: 0 0 10px rgba(0, 0, 0, 0.65);
}

.task-info {
  text-align: left;
  max-width: 70%;
}

.task-title {
  font-size: 0.9rem;
  font-weight: 600;
  margin-bottom: 3px;
}

.task-reward {
  font-size: 0.78rem;
  color: #a8aed8;
}

.task-btn {
  background: linear-gradient(135deg, #00f6ff, #0077ff);
  border: none;
  color: #000;
  font-weight: 700;
  border-radius: 999px;
  padding: 6px 12px;
  font-size: 0.78rem;
  box-shadow: 0 0 8px rgba(0, 246, 255, 0.7);
}

/* üöÄ Airdrop */

.airdrop-panel {
  margin-top: 10px;
}

.airdrop-text {
  font-size: 0.84rem;
  color: #dfe4ff;
  margin-bottom: 8px;
}

.airdrop-list {
  list-style: none;
  margin: 0;
  padding: 0;
  font-size: 0.8rem;
  color: #b8bfee;
}

.airdrop-list li {
  margin-bottom: 4px;
}

/* üë§ –ü—Ä–æ—Ñ—ñ–ª—å Telegram */

.tg-profile {
  display: flex;
  flex-direction: column;
  align-items: center;
  margin-top: 16px;
  text-align: center;
  gap: 10px;
}

.tg-avatar {
  width: 90px;
  height: 90px;
  border-radius: 50%;
  border: 3px solid #00f6ff;
  box-shadow: 0 0 12px rgba(0, 255, 255, 0.5);
  object-fit: cover;
  transition: transform 0.3s ease;
}

.tg-avatar:hover {
  transform: scale(1.05);
}

#username {
  font-weight: 700;
  font-size: 1rem;
  color: #00f6ff;
  text-shadow: 0 0 8px #00f6ff;
  margin: 5px 0 0;
}

#userId {
  font-size: 0.8rem;
  color: #ccc;
  opacity: 0.8;
}

/* üìä –ë–ª–æ–∫ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ */
.profile-stats {
  margin-top: 20px;
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.08);
  border-radius: 12px;
  padding: 14px;
  max-width: 280px;
  margin-left: auto;
  margin-right: auto;
  box-shadow: 0 0 12px rgba(0, 255, 255, 0.1);
  backdrop-filter: blur(6px);
}

.profile-stats p {
  margin: 6px 0;
  font-size: 0.9rem;
  color: #fff;
  font-weight: 500;
  text-shadow: 0 0 6px rgba(0, 0, 0, 0.5);
}

.profile-stats span {
  color: #00f6ff;
  font-weight: 700;
}

/* üß≠ –ù–∏–∂–Ω—î –º–µ–Ω—é */
.bottom-nav {
  position: fixed;
  bottom: 0;
  left: 50%;
  transform: translateX(-50%);
  max-width: 480px;
  width: 100%;
  height: 70px;
  display: flex;
  justify-content: space-around;
  align-items: center;
  background: #050814;
  border-top: 1px solid rgba(255, 255, 255, 0.1);
  z-index: 999;
}

.bottom-nav button {
  flex: 1;
  height: 100%;
  border: none;
  background: none;
  color: #888;
  font-size: 1.4rem;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  transition: 0.2s ease;
}

.bottom-nav button span {
  font-size: 0.65rem;
  margin-top: 2px;
  letter-spacing: 0.5px;
}

.bottom-nav button.active {
  color: #00f6ff;
  text-shadow: 0 0 8px #00f6ff;
}

/* üîí –ë–µ–∑–ø–µ—á–Ω–∞ –∑–æ–Ω–∞ –¥–ª—è iPhone */
.bottom-nav::after {
  content: "";
  position: absolute;
  bottom: 0;
  width: 100%;
  height: env(safe-area-inset-bottom);
  background: #050814;
}

/* ‚≠ê –ó—ñ—Ä–∫–∏ –≤ —Ç–æ–ø-–±–∞—Ä—ñ */
.top-stars {
  margin-top: 2px;
  font-size: 0.78rem;
  color: #ffd65c;
  text-shadow: 0 0 8px rgba(255, 214, 92, 0.8);
}

/* –°—Ç–∞—Ç—É—Å –±—É—Å—Ç—É –ø–∞—Å–∏–≤—É */
.passive-boost {
  margin-top: 4px;
  font-size: 0.7rem;
  color: #f0c5ff;
}

/* SHOP */
.shop-panel {
  margin-top: 12px;
}

.panel-tag-gold {
  background: rgba(255, 214, 92, 0.15);
  color: #ffe39a;
  border-color: rgba(255, 214, 92, 0.6);
}

.shop-stars-row {
  display: flex;
  justify-content: space-between;
  align-items: center;
  font-size: 0.8rem;
  color: #dfe4ff;
  margin-bottom: 8px;
}

.shop-stars-value {
  font-weight: 700;
  color: #ffd65c;
  text-shadow: 0 0 8px rgba(255, 214, 92, 0.8);
}

.shop-list {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.shop-item {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 8px 8px;
  border-radius: 10px;
  background: rgba(12, 15, 32, 0.95);
  border: 1px solid rgba(255, 255, 255, 0.06);
}

.shop-item-info {
  text-align: left;
  max-width: 70%;
}

.shop-item-title {
  font-size: 0.9rem;
  font-weight: 600;
  margin-bottom: 2px;
}

.shop-item-desc {
  font-size: 0.75rem;
  color: #a8aed8;
}

.shop-buy-btn {
  background: linear-gradient(135deg, #ffd65c, #ff9b3d);
  border: none;
  border-radius: 999px;
  padding: 6px 10px;
  font-size: 0.78rem;
  font-weight: 700;
  color: #271300;
  box-shadow: 0 0 10px rgba(255, 214, 92, 0.7);
}
